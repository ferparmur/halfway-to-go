---
import NavBar from "./NavBar.astro";
import { getImage } from "astro:assets";

const { title, pubDate, heroImage } = Astro.props;
const backgroundImage = await getImage({src: heroImage, width: 2560, format: 'webp'});
---

<header class="post-header" style={`--background-image: url(${backgroundImage.src})`}>
	<div class="hero-cover"></div>

	<NavBar />

	<h1>{title}</h1>
</header>

<style lang="scss">
	.post-header {
		height: 100vh;
		--color-fg: var(--color-light);
		color: var(--color-fg);
		overflow: hidden;
		background:
			linear-gradient(to bottom, rgba(0,0,0,.4), rgba(0,0,0,.2)),
			var(--background-image);
		background-size: cover;
		background-position: center;

		@media (min-width: 600px) {
			height: 300px;
		}
	}
</style>
